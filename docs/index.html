<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>PHPCSUtils: utility functions for use with PHP_CodeSniffer.</title>
    <meta property="og:title" content="PHPCSUtils" />
    <meta property="og:locale" content="en_US" />
    <meta name="description" content="PHPCSUtils: A suite of utility functions for use with PHP_CodeSniffer." />
    <meta property="og:description" content="PHPCSUtils: A suite of utility functions for use with PHP_CodeSniffer." />
    <link rel="canonical" href="https://phpcsutils.com/" />
    <meta property="og:url" content="https://phpcsutils.com/" />
    <meta property="og:site_name" content="PHPCSUtils" />
    <script type="application/ld+json">
    {"@type":"WebSite","publisher":{"@type":"Organization"},"url":"https://phpcsutils.com/","name":"PHPCSUtils","description":"PHPCSUtils: A suite of utility functions for use with PHP_CodeSniffer.","headline":"PHPCSUtils","@context":"http://schema.org"}</script>

    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/syntax.css">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
</head>
<body>
<div class="wrapper">
    <header>
        <h1><a href="https://phpcsutils.com/">PHPCSUtils</a></h1>

        <!--<img src="/minimal/assets/img/logo.png" alt="Logo" />-->

        <p>A suite of utility functions for use with PHP_CodeSniffer.</p>

        <p class="view"><a href="https://github.com/PHPCSStandards/PHPCSUtils">Visit the Project on GitHub <small>PHPCSStandards/PHPCSUtils</small></a></p>

        <p class="docs"><a href="phpdoc/index.html">Read the Documentation</a></p>

        <div class="install">
            <a href="https://packagist.org/packages/phpcsstandards/phpcsutils">Install using Composer:</a><br>
            <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>composer require <span class="s">phpcsstandards/phpcsutils</span></code></pre></div></div>
        </div>

        <p><a href="https://twitter.com/share" class="twitter-share-button" data-related="jrf_nl" data-count="none" data-hashtags="PHPCSUtils">Tweet about it</a></p>

    </header>
    <section>

        <h1 id="header-1">Features</h1>

        <p><a href="https://github.com/PHPCSStandards/PHPCSUtils">PHPCSUtils</a> is a set of utilities to aid developers of sniffs for <a href="https://github.com/squizlabs/PHP_CodeSniffer">PHP_CodeSniffer</a>.</p>

        <p>This package offers the following features:</p>

        <dl>
            <dt>Use the latest version of PHP_CodeSniffer native utility functions.</dt>
            <dd>
                <p>Normally to use the latest version of PHP_CodeSniffer native utility functions, you would have to raise the minimum requirements of your external PHPCS standard.</p>

                <p>Now you won't have to anymore. This package allows you to use the latest version of those utility functions in all PHP_CodeSniffer versions from PHPCS 2.6.0 and up.</p>
            </dd>

            <dt>Several abstract sniff classes which your sniffs can extend.</dt>
            <dd>
                <p>These classes take most of the heavy lifting away for some frequently occurring sniff types.</p>
            </dd>

            <dt>A collection of static properties for often-used token groups.</dt>
            <dd>
                <p>Collections of related tokens often-used and needed for sniffs.</br>
        These are additional "token groups" to compliment the ones available through the PHPCS native <span><code>PHP_CodeSniffer\Util\Tokens</code></span> class.</p>
            </dd>

            <dt>An ever-growing number of utility functions for use with PHP_CodeSniffer.</dt>
            <dd>
                <p>Whether you need to split an <span><code>array</code></span> into the individual items, are trying to determine which variables are being assigned to in a <span><code>list()</code></span> or are figuring out whether a function has a DocBlock, PHPCSUtils has you covered!</p>

                <p>Includes improved versions of the PHPCS native utility functions and plenty of new utility functions.</p>

                <p>These functions are, of course, compatible with PHPCS 2.6.0 up to PHPCS <span><code>master</code></span>.</p>
            </dd>

            <dt>Test utilities</dt>
            <dd>
                <p>An abstract <span><code>UtilityMethodTestCase</code></span> class to support testing of your utility methods written for PHP_CodeSniffer.</br>
                Compatible with both PHPCS 2.x as well as 3.x. Supports PHPUnit 4.x up to 9.x.</p>
            </dd>

            <dt>Backward compatibility layer</dt>
            <dd>
                <p>A <span><code>PHPCS23Utils</code></span> standard which allows sniffs to work in both PHPCS 2.x and 3.x, as well as a few helper functions for external standards which still want to support both PHP_CodeSniffer 2.x as well as 3.x.</p>
            </dd>

            <dt>Fully documented</dt>
            <dd>
                <p>To see detailed information about all the available abstract sniffs, utility functions and PHPCS helper functions, have a read through the <a href="phpdoc/index.html">extensive documentation</a>.</p>
            </dd>
        </dl>


        <h1>Minimum Requirements</h1>

        <ul>
          <li>PHP 5.4 or higher.</li>
          <li><a href="https://github.com/squizlabs/PHP_CodeSniffer">PHP_CodeSniffer</a> 2.6.0+, 3.1.0+ (with the exception of PHPCS 3.5.3).</li>
        </ul>


        <h1>Integrating PHPCSUtils in your external PHPCS standard</h1>

        <h2>Composer-based with a minimum PHPCS requirement of PHPCS 3.1.0</h2>

        <p>If your external PHP_CodeSniffer standard only supports Composer-based installs and has a minimum PHPCS requirement of PHP_CodeSniffer 3.1.0, integrating PHPCSUtils is pretty straight forward.</p>

        <p>Run the following from the root of your external PHPCS standard's project:</p>
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>composer require <span class="s">phpcsstandards/phpcsutils</span>:"<span class="mf">^1.0</span>"
        </code></pre></div></div>

        <p>No further action needed. You can start using all the utility functions, abstract sniff classes and other features of PHPCSUtils straight away.</p>

        <blockquote>
        <p><image src="https://github.githubassets.com/images/icons/emoji/unicode/2139.png" width="18" height="18"/> The PHPCSUtils package includes the <a href="https://github.com/Dealerdirect/phpcodesniffer-composer-installer">DealerDirect Composer PHPCS plugin</a>.</p>

        <p>This plugin will automatically register PHPCSUtils (and your own external standard) with PHP_CodeSniffer, so you and your users don't have to worry about this anymore.</p>

        <p><image src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png" width="18" height="18"/> Note: if your end-user installation instructions include instructions on adding a Composer PHPCS plugin or on manually registering your standard with PHPCS using the <span><code>--config-set installed_paths</code></span> command, you can remove those instructions as they are no longer needed.</p>
        </blockquote>

        <h3>Running your unit tests</h3>

        <p>If your unit tests use the PHP_CodeSniffer native unit test suite, all is good.</p>

        <p>If you have your own unit test suite to test your sniffs, make sure to load the Composer <span><code>vendor/autoload.php</code></span> file in your PHPUnit bootstrap file or <em>as</em> the PHPUnit bootstrap file.</p>

        <p>If you intend to use the test utilities provided in the <span><code>PHPCSUtils/TestUtils</code></span> directory, make sure you also load the <span><code>vendor/phpcsstandards/phpcsutils/phpcsutils-autoload.php</code></span> file in your PHPUnit bootstrap file.</p>


        <h2>Composer-based with a minimum PHPCS requirement of PHPCS 2.6.0</h2>

        <p>Follow the above instructions for use with PHPCS 3.x.</p>

        <p>In addition to that, add the following to the <span><code>ruleset.xml</code></span> file of your standard(s):</p>
        <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- Make the utility functions available in PHPCS 2.x --&gt;</span>
        <span class="k">&lt;</span><span class="na">rule</span> <span class="ni">ref</span><span class="o">=</span><span class="s">"PHPCS23Utils"</span><span class="k">/&gt;</span>
        </code></pre></div></div>

        <blockquote>
            <p><image src="https://github.githubassets.com/images/icons/emoji/unicode/2139.png" width="18" height="18"/> The <span><code>PHPCS23Utils</code></span> "standard" does not add any real sniffs, it just makes sure that the Utility functions will work in PHPCS 2.x as well.</p>
        </blockquote>

        <h3>Running your unit tests</h3>

        <p>If your standard supports both PHPCS 2.x as well as 3.x, you are bound to already have a PHPUnit <span><code>bootstrap.php</code></span> file in place.</p>

        <p>To allow the unit tests to find the relevant files for PHPCSUtils, make sure that the bootstrap loads both the Composer <span><code>vendor/autoload.php</code></span> file, as well as the <span><code>vendor/phpcsstandards/phpcsutils/phpcsutils-autoload.php</code></span> file.</p>


        <h1>Frequently Asked Questions</h1>

        <div id="faq">
            <h2><span class="q">Q:</span> How does this all work without an external standard needing to register an autoloader?</h2>

            <p><span class="a">A:</span> As PHPCSUtils is registered with PHPCS as an external standard and PHPCSUtils complies with the naming requirements of PHPCS, the PHPCS native autoloader will automatically take care of loading the classes you use from PHPCSUtils.</p>

            <h2><span class="q">Q:</span> What does the <span><code>PHPCS23Utils</code></span> standard do?</h2>

            <p><span class="a">A:</span> All the <span><code>PHPCS23Utils</code></span> standard does is load the <span><code>phpcsutils-autoload.php</code></span> file.</p>

            <p>PHPCS 3.x uses namespaces, while PHPCS 2.x does not. The <span><code>phpcsutils-autoload.php</code></span> file creates <span><code>class_alias</code></span>-es for the most commonly used PHPCS classes, including all PHPCS classes used by PHPCSUtils. That way, both your external standard as well as PHPCSUtils can refer to the PHPCS 3.x class names and the code will still work in PHPCS 2.x.</p>

            <h2><span class="q">Q:</span> Why is PHP_CodeSniffer 3.5.3 not supported?</h2>

            <p><span class="a">A:</span> The backfill for PHP 7.4 numeric literals with underscores in PHP_CodeSniffer 3.5.3 is broken and there is no way to reliably provide support for anything to do with numbers or <span><code>T_STRING</code></span> tokens when using PHP_CodeSniffer 3.5.3 as the tokens returned by the tokenizer are unpredictable and unreliable.</p>

            <p>The backfill was fixed in PHP_CodeSniffer 3.5.4.</p>
        </div>

        <h1>Contributing</h1>

        <p>Contributions to this project are welcome. Clone the repo, branch off from <span><code>develop</code></span>, make your changes, commit them and send in a pull request.</p>

        <p>If you are unsure whether the changes you are proposing would be welcome, please open an issue first to discuss your proposal.</p>

        <h1>License</h1>

        <p>The code of PHPCSUtils is released under the <a href="http://www.gnu.org/copyleft/lesser.html">GNU Lesser General Public License (LGPLv3)</a>.</p>


    </section>
    <footer>

        <p>This project is maintained by <a href="https://github.com/jrfnl">jrfnl</a></p>

        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
    </footer>
</div>

<script src="/minimal/assets/js/scale.fix.js"></script>

<script type="text/javascript">
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
</script>

</body>
</html>
